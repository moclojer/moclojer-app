shadow$provide.module$node_modules$dom_accessibility_api$dist$accessible_name_and_description=function(global,require,module,exports){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function isHidden(node,getComputedStyleImplementation){if(!(0,_util.isElement)(node))return!1;if(node.hasAttribute("hidden")||"true"===node.getAttribute("aria-hidden"))return!0;node=getComputedStyleImplementation(node);return"none"===node.getPropertyValue("display")||"hidden"===node.getPropertyValue("visibility")}
function isControl(node){return(0,_util.hasAnyConcreteRoles)(node,["button","combobox","listbox","textbox"])||hasAbstractRole(node,"range")}function hasAbstractRole(node,role){if(!(0,_util.isElement)(node))return!1;switch(role){case "range":return(0,_util.hasAnyConcreteRoles)(node,["meter","progressbar","scrollbar","slider","spinbutton"]);default:throw new TypeError("No knowledge about abstract role '".concat(role,"'. This is likely a bug :("));}}function querySelectorAllSubtree(element,selectors){var elements=
(0,_array.default)(element.querySelectorAll(selectors));(0,_util.queryIdRefs)(element,"aria-owns").forEach(function(root){elements.push.apply(elements,(0,_array.default)(root.querySelectorAll(selectors)))});return elements}function querySelectedOptions(listbox){return(0,_util.isHTMLSelectElement)(listbox)?listbox.selectedOptions||querySelectorAllSubtree(listbox,"[selected]"):querySelectorAllSubtree(listbox,'[aria-selected\x3d"true"]')}function getValueOfTextbox(element){return(0,_util.isHTMLInputElement)(element)||
(0,_util.isHTMLTextAreaElement)(element)?element.value:element.textContent||""}function getTextualContent(declaration){declaration=declaration.getPropertyValue("content");return/^["'].*["']$/.test(declaration)?declaration.slice(1,-1):""}function isLabelableElement(element){var localName=(0,_util.getLocalName)(element);return"button"===localName||"input"===localName&&"hidden"!==element.getAttribute("type")||"meter"===localName||"output"===localName||"progress"===localName||"select"===localName||"textarea"===
localName}function findLabelableElement(element){if(isLabelableElement(element))return element;var labelableElement=null;element.childNodes.forEach(function(childNode){null===labelableElement&&(0,_util.isElement)(childNode)&&(childNode=findLabelableElement(childNode),null!==childNode&&(labelableElement=childNode))});return labelableElement}function getLabels(element){var labelsProperty=element.labels;return null===labelsProperty?labelsProperty:void 0!==labelsProperty?(0,_array.default)(labelsProperty):
isLabelableElement(element)?(0,_array.default)(element.ownerDocument.querySelectorAll("label")).filter(function(label){if(void 0!==label.control)label=label.control;else{var htmlFor=label.getAttribute("for");label=null!==htmlFor?label.ownerDocument.getElementById(htmlFor):findLabelableElement(label)}return label===element}):null}function getSlotContents(slot){var assignedNodes=slot.assignedNodes();return 0===assignedNodes.length?(0,_array.default)(slot.childNodes):assignedNodes}exports.__esModule=
!0;exports.computeTextAlternative=function(root){function computeMiscTextAlternative(node,context){var accumulatedText="";if((0,_util.isElement)(node)&&computedStyleSupportsPseudoElements){var pseudoBefore=getComputedStyle(node,"::before");pseudoBefore=getTextualContent(pseudoBefore);accumulatedText="".concat(pseudoBefore," ").concat(accumulatedText)}((0,_util.isHTMLSlotElement)(node)?getSlotContents(node):(0,_array.default)(node.childNodes).concat((0,_util.queryIdRefs)(node,"aria-owns"))).forEach(function(child){var result=
computeTextAlternative(child,{isEmbeddedInLabel:context.isEmbeddedInLabel,isReferenced:!1,recursion:!0});child="inline"!==((0,_util.isElement)(child)?getComputedStyle(child).getPropertyValue("display"):"inline")?" ":"";accumulatedText+="".concat(child).concat(result).concat(child)});(0,_util.isElement)(node)&&computedStyleSupportsPseudoElements&&(node=getComputedStyle(node,"::after"),node=getTextualContent(node),accumulatedText="".concat(accumulatedText," ").concat(node));return accumulatedText.trim()}
function useAttribute(element,attributeName){element=element.getAttributeNode(attributeName);return null===element||consultedNodes.has(element)||""===element.value.trim()?null:(consultedNodes.add(element),element.value)}function computeTooltipAttributeValue(node){return(0,_util.isElement)(node)?useAttribute(node,"title"):null}function computeElementTextAlternative(node){if(!(0,_util.isElement)(node))return null;if((0,_util.isHTMLFieldSetElement)(node)){consultedNodes.add(node);for(var children=(0,_array.default)(node.childNodes),
i=0;i<children.length;i+=1){var child=children[i];if((0,_util.isHTMLLegendElement)(child))return computeTextAlternative(child,{isEmbeddedInLabel:!1,isReferenced:!1,recursion:!1})}}else if((0,_util.isHTMLTableElement)(node))for(consultedNodes.add(node),children=(0,_array.default)(node.childNodes),i=0;i<children.length;i+=1){if(child=children[i],(0,_util.isHTMLTableCaptionElement)(child))return computeTextAlternative(child,{isEmbeddedInLabel:!1,isReferenced:!1,recursion:!1})}else{if((0,_util.isSVGSVGElement)(node)){consultedNodes.add(node);
node=(0,_array.default)(node.childNodes);for(children=0;children<node.length;children+=1)if(i=node[children],(0,_util.isSVGTitleElement)(i))return i.textContent;return null}if("img"===(0,_util.getLocalName)(node)||"area"===(0,_util.getLocalName)(node)){if(children=useAttribute(node,"alt"),null!==children)return children}else if((0,_util.isHTMLOptGroupElement)(node)&&(children=useAttribute(node,"label"),null!==children))return children}if((0,_util.isHTMLInputElement)(node)&&("button"===node.type||
"submit"===node.type||"reset"===node.type)){children=useAttribute(node,"value");if(null!==children)return children;if("submit"===node.type)return"Submit";if("reset"===node.type)return"Reset"}children=getLabels(node);if(null!==children&&0!==children.length)return consultedNodes.add(node),(0,_array.default)(children).map(function(element){return computeTextAlternative(element,{isEmbeddedInLabel:!0,isReferenced:!1,recursion:!0})}).filter(function(label){return 0<label.length}).join(" ");if((0,_util.isHTMLInputElement)(node)&&
"image"===node.type){children=useAttribute(node,"alt");if(null!==children)return children;node=useAttribute(node,"title");return null!==node?node:"Submit Query"}return(0,_util.hasAnyConcreteRoles)(node,["button"])&&(node=computeMiscTextAlternative(node,{isEmbeddedInLabel:!1,isReferenced:!1}),""!==node)?node:null}function computeTextAlternative(current,context){if(consultedNodes.has(current))return"";if(!hidden&&isHidden(current,getComputedStyle)&&!context.isReferenced)return consultedNodes.add(current),
"";var labelAttributeNode=(0,_util.isElement)(current)?current.getAttributeNode("aria-labelledby"):null,labelElements=null===labelAttributeNode||consultedNodes.has(labelAttributeNode)?[]:(0,_util.queryIdRefs)(current,"aria-labelledby");if("name"===compute&&!context.isReferenced&&0<labelElements.length)return consultedNodes.add(labelAttributeNode),labelElements.map(function(element){return computeTextAlternative(element,{isEmbeddedInLabel:context.isEmbeddedInLabel,isReferenced:!0,recursion:!1})}).join(" ");
labelAttributeNode=context.recursion&&isControl(current)&&"name"===compute;if(!labelAttributeNode&&(labelElements=((0,_util.isElement)(current)&&current.getAttribute("aria-label")||"").trim(),""!==labelElements&&"name"===compute||!(0,_util.hasAnyConcreteRoles)(current,["none","presentation"])&&(labelElements=computeElementTextAlternative(current),null!==labelElements)))return consultedNodes.add(current),labelElements;if((0,_util.hasAnyConcreteRoles)(current,["menu"]))return consultedNodes.add(current),
"";if(labelAttributeNode||context.isEmbeddedInLabel||context.isReferenced){if((0,_util.hasAnyConcreteRoles)(current,["combobox","listbox"]))return consultedNodes.add(current),labelAttributeNode=querySelectedOptions(current),0===labelAttributeNode.length?(0,_util.isHTMLInputElement)(current)?current.value:"":(0,_array.default)(labelAttributeNode).map(function(selectedOption){return computeTextAlternative(selectedOption,{isEmbeddedInLabel:context.isEmbeddedInLabel,isReferenced:!1,recursion:!0})}).join(" ");
if(hasAbstractRole(current,"range"))return consultedNodes.add(current),current.hasAttribute("aria-valuetext")?current.getAttribute("aria-valuetext"):current.hasAttribute("aria-valuenow")?current.getAttribute("aria-valuenow"):current.getAttribute("value")||"";if((0,_util.hasAnyConcreteRoles)(current,["textbox"]))return consultedNodes.add(current),getValueOfTextbox(current)}if((0,_util.hasAnyConcreteRoles)(current,"button cell checkbox columnheader gridcell heading label legend link menuitem menuitemcheckbox menuitemradio option radio row rowheader switch tab tooltip treeitem".split(" "))||
(0,_util.isElement)(current)&&context.isReferenced||(0,_util.isHTMLTableCaptionElement)(current))if(labelAttributeNode=computeMiscTextAlternative(current,{isEmbeddedInLabel:context.isEmbeddedInLabel,isReferenced:!1}),""!==labelAttributeNode)return consultedNodes.add(current),labelAttributeNode;if(current.nodeType===current.TEXT_NODE)return consultedNodes.add(current),current.textContent||"";if(context.recursion)return consultedNodes.add(current),computeMiscTextAlternative(current,{isEmbeddedInLabel:context.isEmbeddedInLabel,
isReferenced:!1});labelAttributeNode=computeTooltipAttributeValue(current);if(null!==labelAttributeNode)return consultedNodes.add(current),labelAttributeNode;consultedNodes.add(current);return""}var options=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},consultedNodes=new _SetLike.default,window=(0,_util.safeWindow)(root),_options$compute=options.compute,compute=void 0===_options$compute?"name":_options$compute;_options$compute=options.computedStyleSupportsPseudoElements;var computedStyleSupportsPseudoElements=
void 0===_options$compute?void 0!==options.getComputedStyle:_options$compute;_options$compute=options.getComputedStyle;var getComputedStyle=void 0===_options$compute?window.getComputedStyle.bind(window):_options$compute;options=options.hidden;var hidden=void 0===options?!1:options;return computeTextAlternative(root,{isEmbeddedInLabel:!1,isReferenced:"description"===compute,recursion:!1}).trim().replace(/\s\s+/g," ")};var _array=_interopRequireDefault(require("module$node_modules$dom_accessibility_api$dist$polyfills$array_from")),
_SetLike=_interopRequireDefault(require("module$node_modules$dom_accessibility_api$dist$polyfills$SetLike")),_util=require("module$node_modules$dom_accessibility_api$dist$util")}
//# sourceMappingURL=module$node_modules$dom_accessibility_api$dist$accessible_name_and_description.js.map
