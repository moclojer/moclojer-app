shadow$provide.module$node_modules$$supabase$gotrue_js$dist$main$lib$helpers=function(global,require,module,exports){function decodeBase64URL(value){let base64="";let chr3,enc3,enc4,i=0;for(value=value.replace("-","+").replace("_","/");i<value.length;){var chr1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\x3d".indexOf(value.charAt(i++));var chr2="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\x3d".indexOf(value.charAt(i++));enc3="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\x3d".indexOf(value.charAt(i++));
enc4="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\x3d".indexOf(value.charAt(i++));chr1=chr1<<2|chr2>>4;chr2=(chr2&15)<<4|enc3>>2;chr3=(enc3&3)<<6|enc4;base64+=String.fromCharCode(chr1);64!=enc3&&0!=chr2&&(base64+=String.fromCharCode(chr2));64!=enc4&&0!=chr3&&(base64+=String.fromCharCode(chr3))}return base64}function dec2hex(dec){return("0"+dec.toString(16)).substr(-2)}function sha256(randomString){return __awaiter(this,void 0,void 0,function*(){var encodedData=(new TextEncoder).encode(randomString);
if("undefined"===typeof crypto)throw Error("PKCE is not supported on devices without WebCrypto API support, please add polyfills");encodedData=yield crypto.subtle.digest("SHA-256",encodedData);encodedData=new Uint8Array(encodedData);return Array.from(encodedData).map(c=>String.fromCharCode(c)).join("")})}var __createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){void 0===k2&&(k2=k);var desc=Object.getOwnPropertyDescriptor(m,k);if(!desc||("get"in desc?!m.__esModule:desc.writable||
desc.configurable))desc={enumerable:!0,get:function(){return m[k]}};Object.defineProperty(o,k2,desc)}:function(o,m,k,k2){void 0===k2&&(k2=k);o[k2]=m[k]}),__setModuleDefault=this&&this.__setModuleDefault||(Object.create?function(o,v){Object.defineProperty(o,"default",{enumerable:!0,value:v})}:function(o,v){o["default"]=v}),__importStar=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)"default"!==k&&Object.prototype.hasOwnProperty.call(mod,
k)&&__createBinding(result,mod,k);__setModuleDefault(result,mod);return result},__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}return new (P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):
adopt(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})};Object.defineProperty(exports,"__esModule",{value:!0});exports.generatePKCEChallenge=exports.generatePKCEVerifier=exports.retryable=exports.sleep=exports.decodeJWTPayload=exports.Deferred=exports.decodeBase64URL=exports.removeItemAsync=exports.getItemAsync=exports.setItemAsync=exports.looksLikeFetchResponse=exports.resolveFetch=exports.getParameterByName=exports.supportsLocalStorage=exports.isBrowser=
exports.uuid=exports.expiresAt=void 0;exports.expiresAt=function(expiresIn){return Math.round(Date.now()/1E3)+expiresIn};exports.uuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(c){const r=16*Math.random()|0;return("x"==c?r:r&3|8).toString(16)})};exports.isBrowser=()=>"undefined"!==typeof document;var JSCompiler_object_inline_tested_23=!1,JSCompiler_object_inline_writable_24=!1;exports.supportsLocalStorage=()=>{if(!(0,exports.isBrowser)())return!1;try{if("object"!==
typeof globalThis.localStorage)return!1}catch(e){return!1}if(JSCompiler_object_inline_tested_23)return JSCompiler_object_inline_writable_24;const randomKey=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(randomKey,randomKey),globalThis.localStorage.removeItem(randomKey),JSCompiler_object_inline_writable_24=JSCompiler_object_inline_tested_23=!0}catch(e){JSCompiler_object_inline_tested_23=!0,JSCompiler_object_inline_writable_24=!1}return JSCompiler_object_inline_writable_24};
exports.getParameterByName=function(name,url){var _a;url||(url=(null===(_a=null===window||void 0===window?void 0:window.location)||void 0===_a?void 0:_a.href)||"");name=name.replace(/[\[\]]/g,"\\$\x26");return(name=(new RegExp("[?\x26#]"+name+"(\x3d([^\x26#]*)|\x26|#|$)")).exec(url))?name[2]?decodeURIComponent(name[2].replace(/\+/g," ")):"":null};exports.resolveFetch=customFetch=>{let _fetch;_fetch=customFetch?customFetch:"undefined"===typeof fetch?(...args)=>__awaiter(void 0,void 0,void 0,function*(){return yield(yield Promise.resolve().then(()=>
__importStar(require("module$node_modules$cross_fetch$dist$browser_ponyfill")))).fetch(...args)}):fetch;return(...args)=>_fetch(...args)};exports.looksLikeFetchResponse=maybeResponse=>"object"===typeof maybeResponse&&null!==maybeResponse&&"status"in maybeResponse&&"ok"in maybeResponse&&"json"in maybeResponse&&"function"===typeof maybeResponse.json;exports.setItemAsync=(storage,key,data)=>__awaiter(void 0,void 0,void 0,function*(){yield storage.setItem(key,JSON.stringify(data))});exports.getItemAsync=
(storage,key)=>__awaiter(void 0,void 0,void 0,function*(){const value=yield storage.getItem(key);if(!value)return null;try{return JSON.parse(value)}catch(_a){return value}});exports.removeItemAsync=(storage,key)=>__awaiter(void 0,void 0,void 0,function*(){yield storage.removeItem(key)});exports.decodeBase64URL=decodeBase64URL;class Deferred{constructor(){this.promise=new Deferred.promiseConstructor((res,rej)=>{this.resolve=res;this.reject=rej})}}exports.Deferred=Deferred;Deferred.promiseConstructor=
Promise;exports.decodeJWTPayload=function(token){token=token.split(".");if(3!==token.length)throw Error("JWT is not valid: not a JWT structure");if(!/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i.test(token[1]))throw Error("JWT is not valid: payload is not in base64url format");return JSON.parse(decodeBase64URL(token[1]))};exports.sleep=function(time){return new Promise(accept=>{setTimeout(()=>accept(null),time)})};exports.retryable=function(fn,isRetryable){return new Promise((accept,
reject)=>{(()=>__awaiter(this,void 0,void 0,function*(){for(let attempt=0;Infinity>attempt;attempt++)try{const result=yield fn(attempt);if(!isRetryable(attempt,null,result)){accept(result);break}}catch(e){if(!isRetryable(attempt,e)){reject(e);break}}}))()})};exports.generatePKCEVerifier=function(){const array=new Uint32Array(56);if("undefined"===typeof crypto)throw Error("PKCE is not supported on devices without WebCrypto API support, please add polyfills");crypto.getRandomValues(array);return Array.from(array,
dec2hex).join("")};exports.generatePKCEChallenge=function(verifier){return __awaiter(this,void 0,void 0,function*(){const hashed=yield sha256(verifier);return btoa(hashed).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")})}}
//# sourceMappingURL=module$node_modules$$supabase$gotrue_js$dist$main$lib$helpers.js.map
