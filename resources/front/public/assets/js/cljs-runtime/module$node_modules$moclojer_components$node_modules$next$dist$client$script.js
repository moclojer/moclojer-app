shadow$provide.module$node_modules$moclojer_components$node_modules$next$dist$client$script=function(global,require,module,exports){function handleClientScriptLoad(props){const {strategy="afterInteractive"}=props;"lazyOnload"===strategy?window.addEventListener("load",()=>{(0,_requestIdleCallback).requestIdleCallback(()=>loadScript(props))}):loadScript(props)}function loadLazyScript(props){"complete"===document.readyState?(0,_requestIdleCallback).requestIdleCallback(()=>loadScript(props)):window.addEventListener("load",
()=>{(0,_requestIdleCallback).requestIdleCallback(()=>loadScript(props))})}function addBeforeInteractiveToCache(){[...document.querySelectorAll('[data-nscript\x3d"beforeInteractive"]'),...document.querySelectorAll('[data-nscript\x3d"beforePageRender"]')].forEach(script=>{script=script.id||script.getAttribute("src");LoadCache.add(script)})}Object.defineProperty(exports,"__esModule",{value:!0});exports.handleClientScriptLoad=handleClientScriptLoad;exports.initScriptLoader=function(scriptLoaderItems){scriptLoaderItems.forEach(handleClientScriptLoad);
addBeforeInteractiveToCache()};exports.default=void 0;var _extends=require("module$node_modules$moclojer_components$node_modules$$swc$helpers$lib$_extends").default;global=require("module$node_modules$moclojer_components$node_modules$$swc$helpers$lib$_interop_require_wildcard").default;var _object_without_properties_loose=require("module$node_modules$moclojer_components$node_modules$$swc$helpers$lib$_object_without_properties_loose").default,_react=global(require("module$node_modules$moclojer_components$node_modules$react$index")),
_headManagerContext=require("module$node_modules$moclojer_components$node_modules$next$dist$shared$lib$head_manager_context"),_headManager=require("module$node_modules$moclojer_components$node_modules$next$dist$client$head_manager"),_requestIdleCallback=require("module$node_modules$moclojer_components$node_modules$next$dist$client$request_idle_callback");const ScriptCache=new Map,LoadCache=new Set,ignoreProps="onLoad onReady dangerouslySetInnerHTML children onError strategy".split(" "),loadScript=
props=>{const {src,id,onLoad=()=>{},onReady=null,dangerouslySetInnerHTML,children="",strategy="afterInteractive",onError}=props,cacheKey=id||src;if(!cacheKey||!LoadCache.has(cacheKey))if(ScriptCache.has(src))LoadCache.add(cacheKey),ScriptCache.get(src).then(onLoad,onError);else{var el=document.createElement("script"),loadPromise=(new Promise((resolve,reject)=>{el.addEventListener("load",function(e){resolve();onLoad&&onLoad.call(this,e);onReady&&onReady()});el.addEventListener("error",function(e){reject(e)})})).catch(function(e){onError&&
onError(e)});src&&ScriptCache.set(src,loadPromise);LoadCache.add(cacheKey);dangerouslySetInnerHTML?el.innerHTML=dangerouslySetInnerHTML.__html||"":children?el.textContent="string"===typeof children?children:Array.isArray(children)?children.join(""):"":src&&(el.src=src);for(const [k,value]of Object.entries(props))void 0===value||ignoreProps.includes(k)||(props=_headManager.DOMAttributeNames[k]||k.toLowerCase(),el.setAttribute(props,value));"worker"===strategy&&el.setAttribute("type","text/partytown");
el.setAttribute("data-nscript",strategy);document.body.appendChild(el)}};exports.default=function(props){const {id,src="",onLoad=()=>{},onReady=null,strategy="afterInteractive",onError}=props,restProps=_object_without_properties_loose(props,"id src onLoad onReady strategy onError".split(" ")),{updateScripts,scripts,getIsSsr}=(0,_react).useContext(_headManagerContext.HeadManagerContext);(0,_react).useEffect(()=>{const cacheKey=id||src;onReady&&cacheKey&&LoadCache.has(cacheKey)&&onReady()},[onReady,
id,src]);(0,_react).useEffect(()=>{"afterInteractive"===strategy?loadScript(props):"lazyOnload"===strategy&&loadLazyScript(props)},[props,strategy]);if("beforeInteractive"===strategy||"worker"===strategy)updateScripts?(scripts[strategy]=(scripts[strategy]||[]).concat([_extends({id,src,onLoad,onReady,onError},restProps)]),updateScripts(scripts)):getIsSsr&&getIsSsr()?LoadCache.add(id||src):getIsSsr&&!getIsSsr()&&loadScript(props);return null};("function"===typeof exports.default||"object"===typeof exports.default&&
null!==exports.default)&&"undefined"===typeof exports.default.__esModule&&(Object.defineProperty(exports.default,"__esModule",{value:!0}),Object.assign(exports.default,exports),module.exports=exports.default)}
//# sourceMappingURL=module$node_modules$moclojer_components$node_modules$next$dist$client$script.js.map
