shadow$provide.module$node_modules$moclojer_components$node_modules$next$dist$client$route_loader=function(global,require,module,exports$jscomp$0){function withFuture(key,map,generator){let entry=map.get(key);if(entry)return"future"in entry?entry.future:Promise.resolve(entry);let resolver;const prom=new Promise(resolve=>{resolver=resolve});map.set(key,entry={resolve:resolver,future:prom});return generator?generator().then(value=>(resolver(value),value)).catch(err=>{map.delete(key);throw err;}):prom}
function prefetchViaDom(href,as,link){return new Promise((res,rej)=>{if(document.querySelector(`
      link[rel="prefetch"][href^="${href}"],
      link[rel="preload"][href^="${href}"],
      script[src^="${href}"]`))return res();link=document.createElement("link");as&&(link.as=as);link.rel="prefetch";link.crossOrigin=process.env.__NEXT_CROSS_ORIGIN;link.onload=res;link.onerror=rej;link.href=href;document.head.appendChild(link)})}function markAssetError(err){return Object.defineProperty(err,ASSET_LOAD_ERROR,{})}function appendScript(src,script){return new Promise((resolve,reject)=>{script=document.createElement("script");script.onload=resolve;script.onerror=()=>reject(markAssetError(Error(`Failed to load script: ${src}`)));
script.crossOrigin=process.env.__NEXT_CROSS_ORIGIN;script.src=src;document.body.appendChild(script)})}function resolvePromiseWithTimeout(p,ms,err){return new Promise((resolve,reject)=>{let cancelled=!1;p.then(r=>{cancelled=!0;resolve(r)}).catch(reject);(devBuildPromise||Promise.resolve()).then(()=>{(0,_requestIdleCallback).requestIdleCallback(()=>setTimeout(()=>{cancelled||reject(err)},ms))})})}function getFilesForRoute(assetPrefix,route){assetPrefix=assetPrefix+"/_next/static/chunks/pages"+encodeURI((0,
_getAssetPathFromRoute).default(route,".js"));return Promise.resolve({scripts:[(0,_trustedTypes).__unsafeCreateTrustedScriptURL(assetPrefix)],css:[]})}var process=require("module$node_modules$process$browser");"use strict";Object.defineProperty(exports$jscomp$0,"__esModule",{value:!0});exports$jscomp$0.markAssetError=markAssetError;exports$jscomp$0.isAssetError=function(err){return err&&ASSET_LOAD_ERROR in err};exports$jscomp$0.getClientBuildManifest=function(){if(self.__BUILD_MANIFEST)return Promise.resolve(self.__BUILD_MANIFEST);
const onBuildManifest=new Promise(resolve=>{const cb=self.__BUILD_MANIFEST_CB;self.__BUILD_MANIFEST_CB=()=>{resolve(self.__BUILD_MANIFEST);cb&&cb()}});return resolvePromiseWithTimeout(onBuildManifest,3800,markAssetError(Error("Failed to load client build manifest")))};exports$jscomp$0.createRouteLoader=function(assetPrefix){function maybeExecuteScript(src){return appendScript(src)}function fetchStyleSheet(href){let prom=styleSheets.get(href);if(prom)return prom;styleSheets.set(href,prom=fetch(href).then(res=>
{if(!res.ok)throw Error(`Failed to load stylesheet: ${href}`);return res.text().then(text=>({href,content:text}))}).catch(err=>{throw markAssetError(err);}));return prom}const entrypoints=new Map;new Map;const styleSheets=new Map,routes=new Map;return{whenEntrypoint(route){return withFuture(route,entrypoints)},onEntrypoint(route,execute){(execute?Promise.resolve().then(()=>execute()).then(exports=>({component:exports&&exports.default||exports,exports}),err=>({error:err})):Promise.resolve(void 0)).then(input=>
{const old=entrypoints.get(route);old&&"resolve"in old?input&&(entrypoints.set(route,input),old.resolve(input)):(input?entrypoints.set(route,input):entrypoints.delete(route),routes.delete(route))})},loadRoute(route,prefetch){return withFuture(route,routes,()=>{let devBuildPromiseResolve;devBuildPromise=new Promise(resolve=>{devBuildPromiseResolve=resolve});return resolvePromiseWithTimeout(getFilesForRoute(assetPrefix,route).then(({scripts,css})=>Promise.all([entrypoints.has(route)?[]:Promise.all(scripts.map(maybeExecuteScript)),
Promise.all(css.map(fetchStyleSheet))])).then(res=>this.whenEntrypoint(route).then(entrypoint=>({entrypoint,styles:res[1]}))),3800,markAssetError(Error(`Route did not complete loading: ${route}`))).then(({entrypoint,styles})=>{styles=Object.assign({styles},entrypoint);return"error"in entrypoint?entrypoint:styles}).catch(err=>{if(prefetch)throw err;return{error:err}}).finally(()=>null==devBuildPromiseResolve?void 0:devBuildPromiseResolve())})},prefetch(route){let cn;if(cn=navigator.connection)if(cn.saveData||
/2g/.test(cn.effectiveType))return Promise.resolve();return getFilesForRoute(assetPrefix,route).then(output=>Promise.all(canPrefetch?output.scripts.map(script=>prefetchViaDom(script.toString(),"script")):[])).then(()=>{(0,_requestIdleCallback).requestIdleCallback(()=>this.loadRoute(route,!0).catch(()=>{}))}).catch(()=>{})}}};global=require("module$node_modules$moclojer_components$node_modules$$swc$helpers$lib$_interop_require_default").default;var _getAssetPathFromRoute=global(require("module$node_modules$moclojer_components$node_modules$next$dist$shared$lib$router$utils$get_asset_path_from_route")),
_trustedTypes=require("module$node_modules$moclojer_components$node_modules$next$dist$client$trusted_types"),_requestIdleCallback=require("module$node_modules$moclojer_components$node_modules$next$dist$client$request_idle_callback");const canPrefetch=function(link){try{return link=document.createElement("link"),!!window.MSInputMethodContext&&!!document.documentMode||link.relList.supports("prefetch")}catch(e){return!1}}(),ASSET_LOAD_ERROR=Symbol("ASSET_LOAD_ERROR");let devBuildPromise;("function"===
typeof exports$jscomp$0.default||"object"===typeof exports$jscomp$0.default&&null!==exports$jscomp$0.default)&&"undefined"===typeof exports$jscomp$0.default.__esModule&&(Object.defineProperty(exports$jscomp$0.default,"__esModule",{value:!0}),Object.assign(exports$jscomp$0.default,exports$jscomp$0),module.exports=exports$jscomp$0.default)}
//# sourceMappingURL=module$node_modules$moclojer_components$node_modules$next$dist$client$route_loader.js.map
