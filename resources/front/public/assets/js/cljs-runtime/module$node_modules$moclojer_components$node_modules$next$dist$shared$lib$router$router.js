shadow$provide.module$node_modules$moclojer_components$node_modules$next$dist$shared$lib$router$router=function(global,require,module,exports){function buildCancellationError(){return Object.assign(Error("Route Cancelled"),{cancelled:!0})}function isLocalURL(url){if(!(0,_utils).isAbsoluteUrl(url))return!0;try{const locationOrigin=(0,_utils).getLocationOrigin(),resolved=new URL(url,locationOrigin);return resolved.origin===locationOrigin&&(0,_hasBasePath).hasBasePath(resolved.pathname)}catch(_){return!1}}
function interpolateAs(route,asPathname,query){let interpolatedRoute="";const dynamicRegex=(0,_routeRegex).getRouteRegex(route),dynamicGroups=dynamicRegex.groups,dynamicMatches=(asPathname!==route?(0,_routeMatcher).getRouteMatcher(dynamicRegex)(asPathname):"")||query;interpolatedRoute=route;route=Object.keys(dynamicGroups);route.every(param=>{let value=dynamicMatches[param]||"";const {repeat,optional}=dynamicGroups[param];let replaced=`[${repeat?"...":""}${param}]`;optional&&(replaced=`${value?"":
"/"}[${replaced}]`);repeat&&!Array.isArray(value)&&(value=[value]);return(optional||param in dynamicMatches)&&(interpolatedRoute=interpolatedRoute.replace(replaced,repeat?value.map(segment=>encodeURIComponent(segment)).join("/"):encodeURIComponent(value))||"/")})||(interpolatedRoute="");return{params:route,result:interpolatedRoute}}function omit(object,keys){const omitted={};Object.keys(object).forEach(key=>{keys.includes(key)||(omitted[key]=object[key])});return omitted}function resolveHref(router,
href,resolveAs){let base;href="string"===typeof href?href:(0,_formatUrl).formatWithValidation(href);const urlProtoMatch=href.match(/^[a-zA-Z]{1,}:\/\//),urlAsStringNoProto=urlProtoMatch?href.slice(urlProtoMatch[0].length):href;(urlAsStringNoProto.split("?")[0]||"").match(/(\/\/|\\)/)&&(console.error(`Invalid href passed to next/router: ${href}, repeated forward-slashes (//) or backslashes \\ are not valid in the href`),href=(0,_utils).normalizeRepeatedSlashes(urlAsStringNoProto),href=(urlProtoMatch?
urlProtoMatch[0]:"")+href);if(!isLocalURL(href))return resolveAs?[href]:href;try{base=new URL(href.startsWith("#")?router.asPath:router.pathname,"http://n")}catch(_){base=new URL("/","http://n")}try{const finalUrl=new URL(href,base);finalUrl.pathname=(0,_normalizeTrailingSlash).normalizePathTrailingSlash(finalUrl.pathname);router="";if((0,_isDynamic).isDynamicRoute(finalUrl.pathname)&&finalUrl.searchParams&&resolveAs){const query=(0,_querystring).searchParamsToUrlQuery(finalUrl.searchParams),{result,
params}=interpolateAs(finalUrl.pathname,finalUrl.pathname,query);result&&(router=(0,_formatUrl).formatWithValidation({pathname:result,hash:finalUrl.hash,query:omit(query,params)}))}const resolvedHref=finalUrl.origin===base.origin?finalUrl.href.slice(finalUrl.origin.length):finalUrl.href;return resolveAs?[resolvedHref,router||resolvedHref]:resolvedHref}catch(_1){return resolveAs?[href]:href}}function stripOrigin(url){const origin=(0,_utils).getLocationOrigin();return url.startsWith(origin)?url.substring(origin.length):
url}function prepareUrlAs(router,url,as){let [resolvedHref,resolvedAs]=resolveHref(router,url,!0);url=(0,_utils).getLocationOrigin();var hrefHadOrigin=resolvedHref.startsWith(url);url=resolvedAs&&resolvedAs.startsWith(url);resolvedHref=stripOrigin(resolvedHref);resolvedAs=resolvedAs?stripOrigin(resolvedAs):resolvedAs;hrefHadOrigin=hrefHadOrigin?resolvedHref:(0,_addBasePath).addBasePath(resolvedHref);router=as?stripOrigin(resolveHref(router,as)):resolvedAs||resolvedHref;return{url:hrefHadOrigin,as:url?
router:(0,_addBasePath).addBasePath(router)}}function resolveDynamicRoute(pathname,pages){const cleanPathname=(0,_removeTrailingSlash).removeTrailingSlash((0,_denormalizePagePath).denormalizePagePath(pathname));if("/404"===cleanPathname||"/_error"===cleanPathname)return pathname;pages.includes(cleanPathname)||pages.some(page=>{if((0,_isDynamic).isDynamicRoute(page)&&(0,_routeRegex).getRouteRegex(page).re.test(cleanPathname))return pathname=page,!0});return(0,_removeTrailingSlash).removeTrailingSlash(pathname)}
function fetchRetry(url,attempts,options){return fetch(url,{credentials:"same-origin",method:options.method||"GET",headers:Object.assign({},options.headers,{"x-nextjs-data":"1"})}).then(response=>!response.ok&&1<attempts&&500<=response.status?fetchRetry(url,attempts-1,options):response)}function fetchNextData({dataHref,inflightCache,isPrefetch,hasMiddleware,isServerRender,parseJSON,persistCache,isBackground,unstable_skipClientCache}){const {href:cacheKey}=new URL(dataHref,window.location.href);var ref1;
const getData=params=>fetchRetry(dataHref,isServerRender?3:1,{headers:isPrefetch?{purpose:"prefetch"}:{},method:null!=(ref1=null==params?void 0:params.method)?ref1:"GET"}).then(response=>response.ok&&"HEAD"===(null==params?void 0:params.method)?{dataHref,response,text:"",json:{}}:response.text().then(text=>{if(!response.ok){if(hasMiddleware&&[301,302,307,308].includes(response.status))return{dataHref,response,text,json:{}};if(!hasMiddleware&&404===response.status){var ref;if(null==(ref=tryToParseAsJSON(text))?
0:ref.notFound)return{dataHref,json:{notFound:SSG_DATA_NOT_FOUND},response,text}}text=Error("Failed to load static props");isServerRender||(0,_routeLoader).markAssetError(text);throw text;}return{dataHref,json:parseJSON?tryToParseAsJSON(text):null,response,text}})).then(data=>{delete inflightCache[cacheKey];return data}).catch(err=>{delete inflightCache[cacheKey];throw err;});return unstable_skipClientCache&&persistCache?getData({}).then(data=>{inflightCache[cacheKey]=Promise.resolve(data);return data}):
void 0!==inflightCache[cacheKey]?inflightCache[cacheKey]:inflightCache[cacheKey]=getData(isBackground?{method:"HEAD"}:{})}function tryToParseAsJSON(text){try{return JSON.parse(text)}catch(error){return null}}function createKey(){return Math.random().toString(36).slice(2,10)}function handleHardNavigation({url,router}){if(url===(0,_addBasePath).addBasePath((0,_addLocale).addLocale(router.asPath,router.locale)))throw Error(`Invariant: attempted to hard navigate to the same URL ${url} ${location.href}`);
window.location.href=url}function matchesMiddleware(options){return Promise.resolve(options.router.pageLoader.getMiddleware()).then(middleware=>{var {pathname:asPathname}=(0,_parsePath).parsePath(options.asPath);asPathname=(0,_hasBasePath).hasBasePath(asPathname)?(0,_removeBasePath).removeBasePath(asPathname):asPathname;middleware=null==middleware?void 0:middleware.location;return!!middleware&&(new RegExp(middleware)).test((0,_addLocale).addLocale(asPathname,options.locale))})}function withMiddlewareEffects(options){return matchesMiddleware(options).then(matches=>
matches&&options.fetchData?options.fetchData().then(data=>getMiddlewareData(data.dataHref,data.response,options).then(effect=>({dataHref:data.dataHref,json:data.json,response:data.response,text:data.text,effect}))).catch(_err=>null):null)}function getMiddlewareData(source,response,options){var nextConfig={basePath:options.router.basePath,i18n:{locales:options.router.locales},trailingSlash:!!process.env.__NEXT_TRAILING_SLASH};const rewriteHeader=response.headers.get("x-nextjs-rewrite");let rewriteTarget=
rewriteHeader||response.headers.get("x-nextjs-matched-path");const matchedPath=response.headers.get("x-matched-path");!matchedPath||rewriteTarget||matchedPath.includes("__next_data_catchall")||matchedPath.includes("/_error")||matchedPath.includes("/404")||(rewriteTarget=matchedPath);if(rewriteTarget){if(rewriteTarget.startsWith("/")){const parsedRewriteTarget=(0,_parseRelativeUrl).parseRelativeUrl(rewriteTarget),pathnameInfo=(0,_getNextPathnameInfo).getNextPathnameInfo(parsedRewriteTarget.pathname,
{nextConfig,parseData:!0});let fsPathname=(0,_removeTrailingSlash).removeTrailingSlash(pathnameInfo.pathname);return Promise.all([options.router.pageLoader.getPageList(),(0,_routeLoader).getClientBuildManifest()]).then(([pages,{__rewrites:rewrites}])=>{var as=(0,_addLocale).addLocale(pathnameInfo.pathname,pathnameInfo.locale);if((0,_isDynamic).isDynamicRoute(as)||!rewriteHeader&&pages.includes((0,_normalizeLocalePath).normalizeLocalePath((0,_removeBasePath).removeBasePath(as),options.router.locales).pathname))as=
(0,_getNextPathnameInfo).getNextPathnameInfo((0,_parseRelativeUrl).parseRelativeUrl(source).pathname,{parseData:!0}),as=(0,_addBasePath).addBasePath(as.pathname),parsedRewriteTarget.pathname=as;process.env.__NEXT_HAS_REWRITES?(rewrites=(0,_resolveRewrites).default(as,pages,rewrites,parsedRewriteTarget.query,path=>resolveDynamicRoute(path,pages),options.router.locales),rewrites.matchedPage&&(parsedRewriteTarget.pathname=rewrites.parsedAs.pathname,as=parsedRewriteTarget.pathname,Object.assign(parsedRewriteTarget.query,
rewrites.parsedAs.query))):pages.includes(fsPathname)||(rewrites=resolveDynamicRoute(fsPathname,pages),rewrites!==fsPathname&&(fsPathname=rewrites));rewrites=pages.includes(fsPathname)?fsPathname:resolveDynamicRoute((0,_normalizeLocalePath).normalizeLocalePath((0,_removeBasePath).removeBasePath(parsedRewriteTarget.pathname),options.router.locales).pathname,pages);(0,_isDynamic).isDynamicRoute(rewrites)&&(as=(0,_routeMatcher).getRouteMatcher((0,_routeRegex).getRouteRegex(rewrites))(as),Object.assign(parsedRewriteTarget.query,
as||{}));return{type:"rewrite",parsedAs:parsedRewriteTarget,resolvedHref:rewrites}})}response=(0,_parsePath).parsePath(source);nextConfig=(0,_formatNextPathnameInfo).formatNextPathnameInfo(_extends({},(0,_getNextPathnameInfo).getNextPathnameInfo(response.pathname,{nextConfig,parseData:!0}),{defaultLocale:options.router.defaultLocale,buildId:""}));return Promise.resolve({type:"redirect-external",destination:`${nextConfig}${response.query}${response.hash}`})}return(response=response.headers.get("x-nextjs-redirect"))?
response.startsWith("/")?(response=(0,_parsePath).parsePath(response),nextConfig=(0,_formatNextPathnameInfo).formatNextPathnameInfo(_extends({},(0,_getNextPathnameInfo).getNextPathnameInfo(response.pathname,{nextConfig,parseData:!0}),{defaultLocale:options.router.defaultLocale,buildId:""})),Promise.resolve({type:"redirect-internal",newAs:`${nextConfig}${response.query}${response.hash}`,newUrl:`${nextConfig}${response.query}${response.hash}`})):Promise.resolve({type:"redirect-external",destination:response}):
Promise.resolve({type:"next"})}var process=require("module$node_modules$process$browser");"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.isLocalURL=isLocalURL;exports.interpolateAs=interpolateAs;exports.resolveHref=resolveHref;exports.createKey=createKey;exports.default=void 0;var _async_to_generator=require("module$node_modules$moclojer_components$node_modules$$swc$helpers$lib$_async_to_generator").default,_extends=require("module$node_modules$moclojer_components$node_modules$$swc$helpers$lib$_extends").default;
global=require("module$node_modules$moclojer_components$node_modules$$swc$helpers$lib$_interop_require_default").default;module=require("module$node_modules$moclojer_components$node_modules$$swc$helpers$lib$_interop_require_wildcard").default;var _normalizeTrailingSlash=require("module$node_modules$moclojer_components$node_modules$next$dist$client$normalize_trailing_slash"),_removeTrailingSlash=require("module$node_modules$moclojer_components$node_modules$next$dist$shared$lib$router$utils$remove_trailing_slash"),
_routeLoader=require("module$node_modules$moclojer_components$node_modules$next$dist$client$route_loader"),_script=require("module$node_modules$moclojer_components$node_modules$next$dist$client$script"),_isError=module(require("module$node_modules$moclojer_components$node_modules$next$dist$lib$is_error")),_denormalizePagePath=require("module$node_modules$moclojer_components$node_modules$next$dist$shared$lib$page_path$denormalize_page_path"),_normalizeLocalePath=require("module$node_modules$moclojer_components$node_modules$next$dist$shared$lib$i18n$normalize_locale_path");
module=global(require("module$node_modules$moclojer_components$node_modules$next$dist$shared$lib$mitt"));var _utils=require("module$node_modules$moclojer_components$node_modules$next$dist$shared$lib$utils"),_isDynamic=require("module$node_modules$moclojer_components$node_modules$next$dist$shared$lib$router$utils$is_dynamic"),_parseRelativeUrl=require("module$node_modules$moclojer_components$node_modules$next$dist$shared$lib$router$utils$parse_relative_url"),_querystring=require("module$node_modules$moclojer_components$node_modules$next$dist$shared$lib$router$utils$querystring"),
_resolveRewrites=global(require("module$node_modules$moclojer_components$node_modules$next$dist$shared$lib$router$utils$resolve_rewrites")),_routeMatcher=require("module$node_modules$moclojer_components$node_modules$next$dist$shared$lib$router$utils$route_matcher"),_routeRegex=require("module$node_modules$moclojer_components$node_modules$next$dist$shared$lib$router$utils$route_regex"),_formatUrl=require("module$node_modules$moclojer_components$node_modules$next$dist$shared$lib$router$utils$format_url"),
_detectDomainLocale=require("module$node_modules$moclojer_components$node_modules$next$dist$client$detect_domain_locale"),_parsePath=require("module$node_modules$moclojer_components$node_modules$next$dist$shared$lib$router$utils$parse_path"),_addLocale=require("module$node_modules$moclojer_components$node_modules$next$dist$client$add_locale"),_removeLocale=require("module$node_modules$moclojer_components$node_modules$next$dist$client$remove_locale"),_removeBasePath=require("module$node_modules$moclojer_components$node_modules$next$dist$client$remove_base_path"),
_addBasePath=require("module$node_modules$moclojer_components$node_modules$next$dist$client$add_base_path"),_hasBasePath=require("module$node_modules$moclojer_components$node_modules$next$dist$client$has_base_path"),_getNextPathnameInfo=require("module$node_modules$moclojer_components$node_modules$next$dist$shared$lib$router$utils$get_next_pathname_info"),_formatNextPathnameInfo=require("module$node_modules$moclojer_components$node_modules$next$dist$shared$lib$router$utils$format_next_pathname_info"),
_compareStates=require("module$node_modules$moclojer_components$node_modules$next$dist$shared$lib$router$utils$compare_states");if(global=process.env.__NEXT_SCROLL_RESTORATION&&"undefined"!==typeof window&&"scrollRestoration"in window.history){a:{try{var JSCompiler_inline_result=(sessionStorage.setItem("__next","__next"),sessionStorage.removeItem("__next"),!0);break a}catch(n){}JSCompiler_inline_result=void 0}global=!!JSCompiler_inline_result}const manualScrollRestoration=global,SSG_DATA_NOT_FOUND=
Symbol("SSG_DATA_NOT_FOUND"),getCancelledHandler=({route,router})=>{let cancelled=!1;const cancel=router.clc=()=>{cancelled=!0};return()=>{if(cancelled){const error=Error(`Abort fetching component for route: "${route}"`);error.cancelled=!0;throw error;}cancel===router.clc&&(router.clc=null)}};class Router{reload(){window.location.reload()}back(){window.history.back()}push(url,as,options={}){if(process.env.__NEXT_SCROLL_RESTORATION&&manualScrollRestoration)try{sessionStorage.setItem("__next_scroll_"+
this._key,JSON.stringify({x:self.pageXOffset,y:self.pageYOffset}))}catch(e){}({url,as}=prepareUrlAs(this,url,as));return this.change("pushState",url,as,options)}replace(url,as,options={}){({url,as}=prepareUrlAs(this,url,as));return this.change("replaceState",url,as,options)}change(method,url,as,options,forcedScroll){var _this=this;return _async_to_generator(function*(){if(!isLocalURL(url))return handleHardNavigation({url,router:_this}),!1;var isQueryUpdating=options._h,shouldResolveHref=isQueryUpdating||
options._shouldResolveHref||(0,_parsePath).parsePath(url).pathname===(0,_parsePath).parsePath(as).pathname;const nextState=_extends({},_this.state),readyStateChange=!0!==_this.isReady;_this.isReady=!0;var isSsr=_this.isSsr;isQueryUpdating||(_this.isSsr=!1);if(isQueryUpdating&&_this.clc)return!1;var prevLocale=nextState.locale;if(process.env.__NEXT_I18N_SUPPORT){nextState.locale=!1===options.locale?_this.defaultLocale:options.locale||nextState.locale;"undefined"===typeof options.locale&&(options.locale=
nextState.locale);var parsedAs=(0,_parseRelativeUrl).parseRelativeUrl((0,_hasBasePath).hasBasePath(as)?(0,_removeBasePath).removeBasePath(as):as),localePathResult=(0,_normalizeLocalePath).normalizeLocalePath(parsedAs.pathname,_this.locales);localePathResult.detectedLocale&&(nextState.locale=localePathResult.detectedLocale,parsedAs.pathname=(0,_addBasePath).addBasePath(parsedAs.pathname),as=(0,_formatUrl).formatWithValidation(parsedAs),url=(0,_addBasePath).addBasePath((0,_normalizeLocalePath).normalizeLocalePath((0,
_hasBasePath).hasBasePath(url)?(0,_removeBasePath).removeBasePath(url):url,_this.locales).pathname));localePathResult=!1;if(process.env.__NEXT_I18N_SUPPORT){var ref;null!=(ref=_this.locales)&&ref.includes(nextState.locale)||(parsedAs.pathname=(0,_addLocale).addLocale(parsedAs.pathname,nextState.locale),handleHardNavigation({url:(0,_formatUrl).formatWithValidation(parsedAs),router:_this}),localePathResult=!0)}ref=(0,_detectDomainLocale).detectDomainLocale(_this.domainLocales,void 0,nextState.locale);
process.env.__NEXT_I18N_SUPPORT&&!localePathResult&&ref&&_this.isLocaleDomain&&self.location.hostname!==ref.domain&&(parsedAs=(0,_removeBasePath).removeBasePath(as),handleHardNavigation({url:`http${ref.http?"":"s"}://${ref.domain}${(0,_addBasePath).addBasePath(`${nextState.locale===ref.defaultLocale?"":`/${nextState.locale}`}${"/"===parsedAs?"":parsedAs}`||"/")}`,router:_this}),localePathResult=!0);if(localePathResult)return new Promise(()=>{})}_utils.ST&&performance.mark("routeChange");const {shallow=
!1,scroll=!0}=options;ref={shallow};_this._inFlightRoute&&_this.clc&&(isSsr||Router.events.emit("routeChangeError",buildCancellationError(),_this._inFlightRoute,ref),_this.clc(),_this.clc=null);as=(0,_addBasePath).addBasePath((0,_addLocale).addLocale((0,_hasBasePath).hasBasePath(as)?(0,_removeBasePath).removeBasePath(as):as,options.locale,_this.defaultLocale));isSsr=(0,_removeLocale).removeLocale((0,_hasBasePath).hasBasePath(as)?(0,_removeBasePath).removeBasePath(as):as,nextState.locale);_this._inFlightRoute=
as;prevLocale=prevLocale!==nextState.locale;if(!isQueryUpdating&&_this.onlyAHashChange(isSsr)&&!prevLocale){nextState.asPath=isSsr;Router.events.emit("hashChangeStart",as,ref);_this.changeState(method,url,as,_extends({},options,{scroll:!1}));scroll&&_this.scrollToHash(isSsr);try{yield _this.set(nextState,_this.components[nextState.route],null)}catch(err){throw(0,_isError).default(err)&&err.cancelled&&Router.events.emit("routeChangeError",err,isSsr,ref),err;}Router.events.emit("hashChangeComplete",
as,ref);return!0}parsedAs=(0,_parseRelativeUrl).parseRelativeUrl(url);let {pathname,query}=parsedAs,pages;try{[pages,{__rewrites:rewrites}]=yield Promise.all([_this.pageLoader.getPageList(),(0,_routeLoader).getClientBuildManifest(),_this.pageLoader.getMiddleware()])}catch(err){return handleHardNavigation({url:as,router:_this}),!1}_this.urlIsNew(isSsr)||prevLocale||(method="replaceState");localePathResult=as;pathname=pathname?(0,_removeTrailingSlash).removeTrailingSlash((0,_removeBasePath).removeBasePath(pathname)):
pathname;const isMiddlewareMatch=yield matchesMiddleware({asPath:as,locale:nextState.locale,router:_this});options.shallow&&isMiddlewareMatch&&(pathname=_this.pathname);if(shouldResolveHref&&"/_error"!==pathname)if(options._shouldResolveHref=!0,process.env.__NEXT_HAS_REWRITES&&as.startsWith("/")){shouldResolveHref=(0,_resolveRewrites).default((0,_addBasePath).addBasePath((0,_addLocale).addLocale(isSsr,nextState.locale),!0),pages,rewrites,query,p=>resolveDynamicRoute(p,pages),_this.locales);if(shouldResolveHref.externalDest)return handleHardNavigation({url:as,
router:_this}),!0;isMiddlewareMatch||(localePathResult=shouldResolveHref.asPath);shouldResolveHref.matchedPage&&shouldResolveHref.resolvedHref&&(pathname=shouldResolveHref.resolvedHref,parsedAs.pathname=(0,_addBasePath).addBasePath(pathname),isMiddlewareMatch||(url=(0,_formatUrl).formatWithValidation(parsedAs)))}else parsedAs.pathname=resolveDynamicRoute(pathname,pages),parsedAs.pathname!==pathname&&(pathname=parsedAs.pathname,parsedAs.pathname=(0,_addBasePath).addBasePath(pathname),isMiddlewareMatch||
(url=(0,_formatUrl).formatWithValidation(parsedAs)));if(!isLocalURL(as))throw Error(`Invalid href: "${url}" and as: "${as}", received relative href and external as`+"\nSee more info: https://nextjs.org/docs/messages/invalid-relative-url-external-as");localePathResult=(0,_removeLocale).removeLocale((0,_removeBasePath).removeBasePath(localePathResult),nextState.locale);shouldResolveHref=(0,_removeTrailingSlash).removeTrailingSlash(pathname);let routeMatch=!1;if((0,_isDynamic).isDynamicRoute(shouldResolveHref)){var parsedAs$jscomp$0=
(0,_parseRelativeUrl).parseRelativeUrl(localePathResult);var rewrites=parsedAs$jscomp$0.pathname;const routeRegex=(0,_routeRegex).getRouteRegex(shouldResolveHref);routeMatch=(0,_routeMatcher).getRouteMatcher(routeRegex)(rewrites);const shouldInterpolate=shouldResolveHref===rewrites,interpolatedAs=shouldInterpolate?interpolateAs(shouldResolveHref,rewrites,query):{};if(!routeMatch||shouldInterpolate&&!interpolatedAs.result){if(parsedAs$jscomp$0=Object.keys(routeRegex.groups).filter(param=>!query[param]),
0<parsedAs$jscomp$0.length&&!isMiddlewareMatch)throw console.warn(`${shouldInterpolate?"Interpolating href":"Mismatching `as` and `href`"} failed to manually provide `+`the params: ${parsedAs$jscomp$0.join(", ")} in the \`href\`'s \`query\``),Error((shouldInterpolate?`The provided \`href\` (${url}) value is missing query values (${parsedAs$jscomp$0.join(", ")}) to be interpolated properly. `:`The provided \`as\` value (${rewrites}) is incompatible with the \`href\` value (${shouldResolveHref}). `)+
`Read more: https://nextjs.org/docs/messages/${shouldInterpolate?"href-interpolation-failed":"incompatible-href-as"}`);}else shouldInterpolate?as=(0,_formatUrl).formatWithValidation(Object.assign({},parsedAs$jscomp$0,{pathname:interpolatedAs.result,query:omit(query,interpolatedAs.params)})):Object.assign(query,routeMatch)}isQueryUpdating||Router.events.emit("routeChangeStart",as,ref);try{var ref2,ref3;let routeInfo=yield _this.getRouteInfo({route:shouldResolveHref,pathname,query,as,resolvedAs:localePathResult,
routeProps:ref,locale:nextState.locale,isPreview:nextState.isPreview,hasMiddleware:isMiddlewareMatch});if("route"in routeInfo&&isMiddlewareMatch&&(shouldResolveHref=pathname=routeInfo.route||shouldResolveHref,ref.shallow||(query=Object.assign({},routeInfo.query||{},query)),routeMatch&&pathname!==parsedAs.pathname&&Object.keys(routeMatch).forEach(key=>{routeMatch&&query[key]===routeMatch[key]&&delete query[key]}),(0,_isDynamic).isDynamicRoute(pathname))){let rewriteAs=!ref.shallow&&routeInfo.resolvedAs?
routeInfo.resolvedAs:(0,_addBasePath).addBasePath((0,_addLocale).addLocale((new URL(as,location.href)).pathname,nextState.locale),!0);(0,_hasBasePath).hasBasePath(rewriteAs)&&(rewriteAs=(0,_removeBasePath).removeBasePath(rewriteAs));if(process.env.__NEXT_I18N_SUPPORT){const localeResult=(0,_normalizeLocalePath).normalizeLocalePath(rewriteAs,_this.locales);nextState.locale=localeResult.detectedLocale||nextState.locale;rewriteAs=localeResult.pathname}const routeRegex=(0,_routeRegex).getRouteRegex(pathname),
curRouteMatch=(0,_routeMatcher).getRouteMatcher(routeRegex)(rewriteAs);curRouteMatch&&Object.assign(query,curRouteMatch)}if("type"in routeInfo){if("redirect-internal"===routeInfo.type)return _this.change(method,routeInfo.newUrl,routeInfo.newAs,options);handleHardNavigation({url:routeInfo.destination,router:_this});return new Promise(()=>{})}let {error,props,__N_SSG,__N_SSP}=routeInfo;const component=routeInfo.Component;component&&component.unstable_scriptLoader&&[].concat(component.unstable_scriptLoader()).forEach(script=>
{(0,_script).handleClientScriptLoad(script.props)});if((__N_SSG||__N_SSP)&&props){if(props.pageProps&&props.pageProps.__N_REDIRECT){options.locale=!1;const destination=props.pageProps.__N_REDIRECT;if(destination.startsWith("/")&&!1!==props.pageProps.__N_REDIRECT_BASE_PATH){const parsedHref=(0,_parseRelativeUrl).parseRelativeUrl(destination);parsedHref.pathname=resolveDynamicRoute(parsedHref.pathname,pages);const {url:newUrl,as:newAs}=prepareUrlAs(_this,destination,destination);return _this.change(method,
newUrl,newAs,options)}handleHardNavigation({url:destination,router:_this});return new Promise(()=>{})}nextState.isPreview=!!props.__N_PREVIEW;if(props.notFound===SSG_DATA_NOT_FOUND){let notFoundRoute;try{yield _this.fetchComponent("/404"),notFoundRoute="/404"}catch(_){notFoundRoute="/_error"}routeInfo=yield _this.getRouteInfo({route:notFoundRoute,pathname:notFoundRoute,query,as,resolvedAs:localePathResult,routeProps:{shallow:!1},locale:nextState.locale,isPreview:nextState.isPreview});if("type"in routeInfo)throw Error("Unexpected middleware effect on /404");
}}Router.events.emit("beforeHistoryChange",as,ref);_this.changeState(method,url,as,options);isQueryUpdating&&"/_error"===pathname&&500===(null==(ref2=self.__NEXT_DATA__.props)?void 0:null==(ref3=ref2.pageProps)?void 0:ref3.statusCode)&&(null==props?0:props.pageProps)&&(props.pageProps.statusCode=500);var _route;const isValidShallowRoute=options.shallow&&nextState.route===(null!=(_route=routeInfo.route)?_route:shouldResolveHref);var _scroll;const shouldScroll=null!=(_scroll=options.scroll)?_scroll:
!options._h&&!isValidShallowRoute;ref2=shouldScroll?{x:0,y:0}:null;const upcomingRouterState=_extends({},nextState,{route:shouldResolveHref,pathname,query,asPath:isSsr,isFallback:!1});ref2=null!=forcedScroll?forcedScroll:ref2;if(!options._h||ref2||readyStateChange||prevLocale||!(0,_compareStates).compareRouterStates(upcomingRouterState,_this.state)){yield _this.set(upcomingRouterState,routeInfo,ref2).catch(e=>{if(e.cancelled)error=error||e;else throw e;});if(error)throw isQueryUpdating||Router.events.emit("routeChangeError",
error,isSsr,ref),error;process.env.__NEXT_I18N_SUPPORT&&nextState.locale&&(document.documentElement.lang=nextState.locale);isQueryUpdating||Router.events.emit("routeChangeComplete",as,ref);isQueryUpdating=/#.+$/;shouldScroll&&isQueryUpdating.test(as)&&_this.scrollToHash(as)}return!0}catch(err1){if((0,_isError).default(err1)&&err1.cancelled)return!1;throw err1;}})()}changeState(method,url,as,options={}){if("undefined"===typeof window.history)console.error("Warning: window.history is not available.");
else if("undefined"===typeof window.history[method])console.error(`Warning: window.history.${method} is not available`);else if("pushState"!==method||(0,_utils).getURL()!==as)this._shallow=options.shallow,window.history[method]({url,as,options,__N:!0,key:this._key="pushState"!==method?this._key:createKey()},"",as)}handleRouteInfoError(err,pathname,query,as,routeProps,loadErrorFail){var _this=this;return _async_to_generator(function*(){console.error(err);if(err.cancelled)throw err;if((0,_routeLoader).isAssetError(err)||
loadErrorFail)throw Router.events.emit("routeChangeError",err,as,routeProps),handleHardNavigation({url:as,router:_this}),buildCancellationError();try{const {page:Component,styleSheets}=yield _this.fetchComponent("/_error"),routeInfo={props:void 0,Component,styleSheets,err,error:err};if(!routeInfo.props)try{routeInfo.props=yield _this.getInitialProps(Component,{err,pathname,query})}catch(gipErr){console.error("Error in error page `getInitialProps`: ",gipErr),routeInfo.props={}}return routeInfo}catch(routeInfoErr){return _this.handleRouteInfoError((0,
_isError).default(routeInfoErr)?routeInfoErr:Error(routeInfoErr+""),pathname,query,as,routeProps,!0)}})()}getRouteInfo({route:requestedRoute,pathname,query,as,resolvedAs,routeProps,locale,hasMiddleware,isPreview,unstable_skipClientCache}){var _this=this;return _async_to_generator(function*(){let route=requestedRoute;try{var ref,ref4,ref5;const handleCancelled=getCancelledHandler({route,router:_this});let existingInfo=_this.components[route];if(routeProps.shallow&&existingInfo&&_this.route===route)return existingInfo;
hasMiddleware&&(existingInfo=void 0);const fetchNextDataParams={dataHref:_this.pageLoader.getDataHref({href:(0,_formatUrl).formatWithValidation({pathname,query}),skipInterpolation:!0,asPath:resolvedAs,locale}),hasMiddleware:!0,isServerRender:_this.isSsr,parseJSON:!0,inflightCache:_this.sdc,persistCache:!isPreview,isPrefetch:!1,unstable_skipClientCache},data=yield withMiddlewareEffects({fetchData:()=>fetchNextData(fetchNextDataParams),asPath:resolvedAs,locale,router:_this});handleCancelled();if("redirect-internal"===
(null==data?void 0:null==(ref=data.effect)?void 0:ref.type)||"redirect-external"===(null==data?void 0:null==(ref4=data.effect)?void 0:ref4.type))return data.effect;if("rewrite"===(null==data?void 0:null==(ref5=data.effect)?void 0:ref5.type)&&(route=(0,_removeTrailingSlash).removeTrailingSlash(data.effect.resolvedHref),pathname=data.effect.resolvedHref,query=_extends({},query,data.effect.parsedAs.query),resolvedAs=(0,_removeBasePath).removeBasePath((0,_normalizeLocalePath).normalizeLocalePath(data.effect.parsedAs.pathname,
_this.locales).pathname),existingInfo=_this.components[route],routeProps.shallow&&existingInfo&&_this.route===route&&!hasMiddleware))return _extends({},existingInfo,{route});if("/api"===route||route.startsWith("/api/"))return handleHardNavigation({url:as,router:_this}),new Promise(()=>{});const routeInfo=yield _this.fetchComponent(route).then(res=>({Component:res.page,styleSheets:res.styleSheets,__N_SSG:res.mod.__N_SSG,__N_SSP:res.mod.__N_SSP,__N_RSC:!!res.mod.__next_rsc__})),{isValidElementType}=
require("module$node_modules$moclojer_components$node_modules$next$dist$compiled$react_is$index");if(!isValidElementType(routeInfo.Component))throw Error(`The default export is not a React Component in page: "${pathname}"`);const useStreamedFlightData=routeInfo.__N_RSC&&!0,shouldFetchData=routeInfo.__N_SSG||routeInfo.__N_SSP||routeInfo.__N_RSC,{props}=yield _this._getData(_async_to_generator(function*(){if(shouldFetchData&&!useStreamedFlightData){const {json}=(null==data?0:data.json)?data:yield fetchNextData({dataHref:_this.pageLoader.getDataHref({href:(0,
_formatUrl).formatWithValidation({pathname,query}),asPath:resolvedAs,locale}),isServerRender:_this.isSsr,parseJSON:!0,inflightCache:_this.sdc,persistCache:!isPreview,isPrefetch:!1,unstable_skipClientCache});return{props:json||{}}}return{headers:{},props:yield _this.getInitialProps(routeInfo.Component,{pathname,query,asPath:as,locale,locales:_this.locales,defaultLocale:_this.defaultLocale})}}));if(routeInfo.__N_SSP&&fetchNextDataParams.dataHref){const cacheKey=(new URL(fetchNextDataParams.dataHref,
window.location.href)).href;delete _this.sdc[cacheKey]}let flightInfo;routeInfo.__N_RSC&&(flightInfo={__flight__:useStreamedFlightData?(yield _this._getData(()=>_this._getFlightData((0,_formatUrl).formatWithValidation({query:_extends({},query,{__flight__:"1"}),pathname:(0,_isDynamic).isDynamicRoute(route)?interpolateAs(pathname,(0,_parseRelativeUrl).parseRelativeUrl(resolvedAs).pathname,query).result:pathname})))).data:props.__flight__});props.pageProps=Object.assign({},props.pageProps,flightInfo);
routeInfo.props=props;routeInfo.route=route;routeInfo.query=query;routeInfo.resolvedAs=resolvedAs;return _this.components[route]=routeInfo}catch(err){return _this.handleRouteInfoError((0,_isError).getProperError(err),pathname,query,as,routeProps)}})()}set(state,data,resetScroll){this.state=state;return this.sub(data,this.components["/_app"].Component,resetScroll)}beforePopState(cb){this._bps=cb}onlyAHashChange(as){if(!this.asPath)return!1;const [oldUrlNoHash,oldHash]=this.asPath.split("#"),[newUrlNoHash,
newHash]=as.split("#");return newHash&&oldUrlNoHash===newUrlNoHash&&oldHash===newHash?!0:oldUrlNoHash!==newUrlNoHash?!1:oldHash!==newHash}scrollToHash(as){[,as=""]=as.split("#");if(""===as||"top"===as)window.scrollTo(0,0);else{as=decodeURIComponent(as);var idEl=document.getElementById(as);idEl?idEl.scrollIntoView():(as=document.getElementsByName(as)[0])&&as.scrollIntoView()}}urlIsNew(asPath){return this.asPath!==asPath}prefetch(url,asPath=url,options={}){var _this=this;return _async_to_generator(function*(){let parsed=
(0,_parseRelativeUrl).parseRelativeUrl(url),{pathname,query}=parsed;if(process.env.__NEXT_I18N_SUPPORT&&!1===options.locale){pathname=(0,_normalizeLocalePath).normalizeLocalePath(pathname,_this.locales).pathname;parsed.pathname=pathname;url=(0,_formatUrl).formatWithValidation(parsed);var parsedAs=(0,_parseRelativeUrl).parseRelativeUrl(asPath),localePathResult=(0,_normalizeLocalePath).normalizeLocalePath(parsedAs.pathname,_this.locales);parsedAs.pathname=localePathResult.pathname;options.locale=localePathResult.detectedLocale||
_this.defaultLocale;asPath=(0,_formatUrl).formatWithValidation(parsedAs)}const pages=yield _this.pageLoader.getPageList();parsedAs=yield matchesMiddleware({asPath,locale:"undefined"!==typeof options.locale?options.locale||void 0:_this.locale,router:_this});if(process.env.__NEXT_HAS_REWRITES&&asPath.startsWith("/")){({__rewrites:localePathResult}=yield(0,_routeLoader).getClientBuildManifest());localePathResult=(0,_resolveRewrites).default((0,_addBasePath).addBasePath((0,_addLocale).addLocale(asPath,
_this.locale),!0),pages,localePathResult,parsed.query,p=>resolveDynamicRoute(p,pages),_this.locales);if(localePathResult.externalDest)return;(0,_removeLocale).removeLocale((0,_removeBasePath).removeBasePath(localePathResult.asPath),_this.locale);localePathResult.matchedPage&&localePathResult.resolvedHref&&(pathname=localePathResult.resolvedHref,parsed.pathname=pathname,parsedAs||(url=(0,_formatUrl).formatWithValidation(parsed)))}parsed.pathname=resolveDynamicRoute(parsed.pathname,pages);(0,_isDynamic).isDynamicRoute(parsed.pathname)&&
(pathname=parsed.pathname,parsed.pathname=pathname,Object.assign(query,(0,_routeMatcher).getRouteMatcher((0,_routeRegex).getRouteRegex(parsed.pathname))((0,_parsePath).parsePath(asPath).pathname)||{}),parsedAs||(url=(0,_formatUrl).formatWithValidation(parsed)))})()}fetchComponent(route){var _this=this;return _async_to_generator(function*(){const handleCancelled=getCancelledHandler({route,router:_this});try{const componentResult=yield _this.pageLoader.loadPage(route);handleCancelled();return componentResult}catch(err){throw handleCancelled(),
err;}})()}_getData(fn){let cancelled=!1;const cancel=()=>{cancelled=!0};this.clc=cancel;return fn().then(data=>{cancel===this.clc&&(this.clc=null);if(cancelled)throw data=Error("Loading initial props cancelled"),data.cancelled=!0,data;return data})}_getFlightData(dataHref){return fetchNextData({dataHref,isServerRender:!0,parseJSON:!1,inflightCache:this.sdc,persistCache:!1,isPrefetch:!1}).then(({text})=>({data:text}))}getInitialProps(Component,ctx){const {Component:App}=this.components["/_app"],AppTree=
this._wrapApp(App);ctx.AppTree=AppTree;return(0,_utils).loadGetInitialProps(App,{AppTree,Component,router:this,ctx})}get route(){return this.state.route}get pathname(){return this.state.pathname}get query(){return this.state.query}get asPath(){return this.state.asPath}get locale(){return this.state.locale}get isFallback(){return this.state.isFallback}get isPreview(){return this.state.isPreview}constructor(pathname1,query1,as1,{initialProps,pageLoader,App,wrapApp,Component,err,subscription,isFallback,
locale,locales,defaultLocale,domainLocales,isPreview,isRsc}){this.sdc={};this.isFirstPopStateEvent=!0;this._key=createKey();this.onPopState=e$jscomp$0=>{var {isFirstPopStateEvent}=this;this.isFirstPopStateEvent=!1;e$jscomp$0=e$jscomp$0.state;if(!e$jscomp$0){const {pathname,query}=this;this.changeState("replaceState",(0,_formatUrl).formatWithValidation({pathname:(0,_addBasePath).addBasePath(pathname),query}),(0,_utils).getURL())}else if(e$jscomp$0.__NA)window.location.reload();else if(e$jscomp$0.__N&&
(!isFirstPopStateEvent||this.locale!==e$jscomp$0.options.locale||e$jscomp$0.as!==this.asPath)){var {url,as,options,key}=e$jscomp$0;if(process.env.__NEXT_SCROLL_RESTORATION&&manualScrollRestoration&&this._key!==key){try{sessionStorage.setItem("__next_scroll_"+this._key,JSON.stringify({x:self.pageXOffset,y:self.pageYOffset}))}catch(e){}try{const v=sessionStorage.getItem("__next_scroll_"+key);var forcedScroll=JSON.parse(v)}catch(e1){forcedScroll={x:0,y:0}}}this._key=key;({pathname:isFirstPopStateEvent}=
(0,_parseRelativeUrl).parseRelativeUrl(url));this.isSsr&&as===(0,_addBasePath).addBasePath(this.asPath)&&isFirstPopStateEvent===(0,_addBasePath).addBasePath(this.pathname)||(!this._bps||this._bps(e$jscomp$0))&&this.change("replaceState",url,as,Object.assign({},options,{shallow:options.shallow&&this._shallow,locale:options.locale||this.defaultLocale,_h:0}),forcedScroll)}};const route=(0,_removeTrailingSlash).removeTrailingSlash(pathname1);this.components={};"/_error"!==pathname1&&(this.components[route]=
{Component,initial:!0,props:initialProps,err,__N_SSG:initialProps&&initialProps.__N_SSG,__N_SSP:initialProps&&initialProps.__N_SSP,__N_RSC:!!isRsc});this.components["/_app"]={Component:App,styleSheets:[]};this.events=Router.events;this.pageLoader=pageLoader;initialProps=(0,_isDynamic).isDynamicRoute(pathname1)&&self.__NEXT_DATA__.autoExport;this.basePath=process.env.__NEXT_ROUTER_BASEPATH||"";this.sub=subscription;this.clc=null;this._wrapApp=wrapApp;this.isSsr=!0;this.isLocaleDomain=!1;this.isReady=
!(!(self.__NEXT_DATA__.gssp||self.__NEXT_DATA__.gip||self.__NEXT_DATA__.appGip&&!self.__NEXT_DATA__.gsp)&&(initialProps||self.location.search||process.env.__NEXT_HAS_REWRITES));process.env.__NEXT_I18N_SUPPORT&&(this.locales=locales,this.defaultLocale=defaultLocale,this.domainLocales=domainLocales,this.isLocaleDomain=!!(0,_detectDomainLocale).detectDomainLocale(domainLocales,self.location.hostname));this.state={route,pathname:pathname1,query:query1,asPath:initialProps?pathname1:as1,isPreview:!!isPreview,
locale:process.env.__NEXT_I18N_SUPPORT?locale:void 0,isFallback};this._initialMatchesMiddlewarePromise=Promise.resolve(!1);if("undefined"!==typeof window){if(!as1.startsWith("//")){const options={locale},asPath=(0,_utils).getURL();this._initialMatchesMiddlewarePromise=matchesMiddleware({router:this,locale,asPath}).then(matches=>{options._shouldResolveHref=as1!==pathname1;this.changeState("replaceState",matches?asPath:(0,_formatUrl).formatWithValidation({pathname:(0,_addBasePath).addBasePath(pathname1),
query:query1}),asPath,options);return matches})}window.addEventListener("popstate",this.onPopState);process.env.__NEXT_SCROLL_RESTORATION&&manualScrollRestoration&&(window.history.scrollRestoration="manual")}}}Router.events=(0,module).default();exports.default=Router}
//# sourceMappingURL=module$node_modules$moclojer_components$node_modules$next$dist$shared$lib$router$router.js.map
