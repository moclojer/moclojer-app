shadow$provide.module$node_modules$$supabase$gotrue_js$dist$main$lib$fetch=function(global,require,module,exports){function _handleRequest(fetcher,method,url,options,parameters,body){return __awaiter(this,void 0,void 0,function*(){return new Promise((resolve,reject)=>{fetcher(url,_getRequestParams(method,options,parameters,body)).then(result=>{if(!result.ok)throw result;return(null===options||void 0===options?0:options.noResolveJson)?result:result.json()}).then(data=>resolve(data)).catch(error=>handleError(error,
reject))})})}var __awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}return new (P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):adopt(result.value).then(fulfilled,rejected)}step((generator=
generator.apply(thisArg,_arguments||[])).next())})},__rest=this&&this.__rest||function(s,e){var t={},p;for(p in s)Object.prototype.hasOwnProperty.call(s,p)&&0>e.indexOf(p)&&(t[p]=s[p]);if(null!=s&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)0>e.indexOf(p[i])&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]])}return t};Object.defineProperty(exports,"__esModule",{value:!0});exports._noResolveJsonResponse=exports._generateLinkResponse=
exports._ssoResponse=exports._userResponse=exports._sessionResponse=exports._request=void 0;const helpers_1=require("module$node_modules$$supabase$gotrue_js$dist$main$lib$helpers"),errors_1=require("module$node_modules$$supabase$gotrue_js$dist$main$lib$errors"),_getErrorMessage=err=>err.msg||err.message||err.error_description||err.error||JSON.stringify(err),handleError=(error,reject)=>__awaiter(void 0,void 0,void 0,function*(){const NETWORK_ERROR_CODES=[502,503,504];(0,helpers_1.looksLikeFetchResponse)(error)?
NETWORK_ERROR_CODES.includes(error.status)?reject(new errors_1.AuthRetryableFetchError(_getErrorMessage(error),error.status)):error.json().then(err=>{reject(new errors_1.AuthApiError(_getErrorMessage(err),error.status||500))}).catch(e=>{reject(new errors_1.AuthUnknownError(_getErrorMessage(e),e))}):reject(new errors_1.AuthRetryableFetchError(_getErrorMessage(error),0))}),_getRequestParams=(method,options,parameters,body)=>{const params={method,headers:(null===options||void 0===options?void 0:options.headers)||
{}};if("GET"===method)return params;params.headers=Object.assign({"Content-Type":"application/json;charset\x3dUTF-8"},null===options||void 0===options?void 0:options.headers);params.body=JSON.stringify(body);return Object.assign(Object.assign({},params),parameters)};exports._request=function(fetcher,method,url,options){var _a;return __awaiter(this,void 0,void 0,function*(){var headers=Object.assign({},null===options||void 0===options?void 0:options.headers);if(null===options||void 0===options?0:options.jwt)headers.Authorization=
`Bearer ${options.jwt}`;var qs=null!==(_a=null===options||void 0===options?void 0:options.query)&&void 0!==_a?_a:{};if(null===options||void 0===options?0:options.redirectTo)qs.redirect_to=options.redirectTo;qs=Object.keys(qs).length?"?"+(new URLSearchParams(qs)).toString():"";headers=yield _handleRequest(fetcher,method,url+qs,{headers,noResolveJson:null===options||void 0===options?void 0:options.noResolveJson},{},null===options||void 0===options?void 0:options.body);return(null===options||void 0===
options?0:options.xform)?null===options||void 0===options?void 0:options.xform(headers):{data:Object.assign({},headers),error:null}})};exports._sessionResponse=function(data){var _a;let session=null;data.access_token&&data.refresh_token&&data.expires_in&&(session=Object.assign({},data),session.expires_at=(0,helpers_1.expiresAt)(data.expires_in));const user=null!==(_a=data.user)&&void 0!==_a?_a:data;return{data:{session,user},error:null}};exports._userResponse=function(data){var _a;return{data:{user:null!==
(_a=data.user)&&void 0!==_a?_a:data},error:null}};exports._ssoResponse=function(data){return{data,error:null}};exports._generateLinkResponse=function(data){const {action_link,email_otp,hashed_token,redirect_to,verification_type}=data;var rest=__rest(data,["action_link","email_otp","hashed_token","redirect_to","verification_type"]);data={action_link,email_otp,hashed_token,redirect_to,verification_type};rest=Object.assign({},rest);return{data:{properties:data,user:rest},error:null}};exports._noResolveJsonResponse=
function(data){return data}}
//# sourceMappingURL=module$node_modules$$supabase$gotrue_js$dist$main$lib$fetch.js.map
