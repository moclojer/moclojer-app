{
"version":3,
"file":"module$node_modules$moclojer_components$node_modules$next$dist$client$script.js",
"lineCount":9,
"mappings":"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",
"sources":["node_modules/moclojer-components/node_modules/next/dist/client/script.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$moclojer_components$node_modules$next$dist$client$script\"] = function(global,require,module,exports) {\n\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.handleClientScriptLoad = handleClientScriptLoad;\nexports.initScriptLoader = initScriptLoader;\nexports.default = void 0;\nvar _extends = require(\"@swc/helpers/lib/_extends.js\").default;\nvar _interop_require_wildcard = require(\"@swc/helpers/lib/_interop_require_wildcard.js\").default;\nvar _object_without_properties_loose = require(\"@swc/helpers/lib/_object_without_properties_loose.js\").default;\nvar _react = _interop_require_wildcard(require(\"react\"));\nvar _headManagerContext = require(\"../shared/lib/head-manager-context\");\nvar _headManager = require(\"./head-manager\");\nvar _requestIdleCallback = require(\"./request-idle-callback\");\nconst ScriptCache = new Map();\nconst LoadCache = new Set();\nconst ignoreProps = [\n    'onLoad',\n    'onReady',\n    'dangerouslySetInnerHTML',\n    'children',\n    'onError',\n    'strategy', \n];\nconst loadScript = (props)=>{\n    const { src , id , onLoad =()=>{} , onReady =null , dangerouslySetInnerHTML , children ='' , strategy ='afterInteractive' , onError ,  } = props;\n    const cacheKey = id || src;\n    // Script has already loaded\n    if (cacheKey && LoadCache.has(cacheKey)) {\n        return;\n    }\n    // Contents of this script are already loading/loaded\n    if (ScriptCache.has(src)) {\n        LoadCache.add(cacheKey);\n        // Execute onLoad since the script loading has begun\n        ScriptCache.get(src).then(onLoad, onError);\n        return;\n    }\n    const el = document.createElement('script');\n    const loadPromise = new Promise((resolve, reject)=>{\n        el.addEventListener('load', function(e) {\n            resolve();\n            if (onLoad) {\n                onLoad.call(this, e);\n            }\n            // Run onReady for the first time after load event\n            if (onReady) {\n                onReady();\n            }\n        });\n        el.addEventListener('error', function(e) {\n            reject(e);\n        });\n    }).catch(function(e) {\n        if (onError) {\n            onError(e);\n        }\n    });\n    if (src) {\n        ScriptCache.set(src, loadPromise);\n    }\n    LoadCache.add(cacheKey);\n    if (dangerouslySetInnerHTML) {\n        el.innerHTML = dangerouslySetInnerHTML.__html || '';\n    } else if (children) {\n        el.textContent = typeof children === 'string' ? children : Array.isArray(children) ? children.join('') : '';\n    } else if (src) {\n        el.src = src;\n    }\n    for (const [k, value] of Object.entries(props)){\n        if (value === undefined || ignoreProps.includes(k)) {\n            continue;\n        }\n        const attr = _headManager.DOMAttributeNames[k] || k.toLowerCase();\n        el.setAttribute(attr, value);\n    }\n    if (strategy === 'worker') {\n        el.setAttribute('type', 'text/partytown');\n    }\n    el.setAttribute('data-nscript', strategy);\n    document.body.appendChild(el);\n};\nfunction handleClientScriptLoad(props) {\n    const { strategy ='afterInteractive'  } = props;\n    if (strategy === 'lazyOnload') {\n        window.addEventListener('load', ()=>{\n            (0, _requestIdleCallback).requestIdleCallback(()=>loadScript(props));\n        });\n    } else {\n        loadScript(props);\n    }\n}\nfunction loadLazyScript(props) {\n    if (document.readyState === 'complete') {\n        (0, _requestIdleCallback).requestIdleCallback(()=>loadScript(props));\n    } else {\n        window.addEventListener('load', ()=>{\n            (0, _requestIdleCallback).requestIdleCallback(()=>loadScript(props));\n        });\n    }\n}\nfunction addBeforeInteractiveToCache() {\n    const scripts = [\n        ...document.querySelectorAll('[data-nscript=\"beforeInteractive\"]'),\n        ...document.querySelectorAll('[data-nscript=\"beforePageRender\"]'), \n    ];\n    scripts.forEach((script)=>{\n        const cacheKey = script.id || script.getAttribute('src');\n        LoadCache.add(cacheKey);\n    });\n}\nfunction initScriptLoader(scriptLoaderItems) {\n    scriptLoaderItems.forEach(handleClientScriptLoad);\n    addBeforeInteractiveToCache();\n}\nfunction Script(props) {\n    const { id , src ='' , onLoad =()=>{} , onReady =null , strategy ='afterInteractive' , onError  } = props, restProps = _object_without_properties_loose(props, [\n        \"id\",\n        \"src\",\n        \"onLoad\",\n        \"onReady\",\n        \"strategy\",\n        \"onError\"\n    ]);\n    // Context is available only during SSR\n    const { updateScripts , scripts , getIsSsr  } = (0, _react).useContext(_headManagerContext.HeadManagerContext);\n    (0, _react).useEffect(()=>{\n        const cacheKey = id || src;\n        // Run onReady if script has loaded before but component is re-mounted\n        if (onReady && cacheKey && LoadCache.has(cacheKey)) {\n            onReady();\n        }\n    }, [\n        onReady,\n        id,\n        src\n    ]);\n    (0, _react).useEffect(()=>{\n        if (strategy === 'afterInteractive') {\n            loadScript(props);\n        } else if (strategy === 'lazyOnload') {\n            loadLazyScript(props);\n        }\n    }, [\n        props,\n        strategy\n    ]);\n    if (strategy === 'beforeInteractive' || strategy === 'worker') {\n        if (updateScripts) {\n            scripts[strategy] = (scripts[strategy] || []).concat([\n                _extends({\n                    id,\n                    src,\n                    onLoad,\n                    onReady,\n                    onError\n                }, restProps), \n            ]);\n            updateScripts(scripts);\n        } else if (getIsSsr && getIsSsr()) {\n            // Script has already loaded during SSR\n            LoadCache.add(id || src);\n        } else if (getIsSsr && !getIsSsr()) {\n            loadScript(props);\n        }\n    }\n    return null;\n}\nvar _default = Script;\nexports.default = _default;\n\nif ((typeof exports.default === 'function' || (typeof exports.default === 'object' && exports.default !== null)) && typeof exports.default.__esModule === 'undefined') {\n  Object.defineProperty(exports.default, '__esModule', { value: true });\n  Object.assign(exports.default, exports);\n  module.exports = exports.default;\n}\n\n//# sourceMappingURL=script.js.map\n};"],
"names":["shadow$provide","global","require","module","exports","handleClientScriptLoad","props","strategy","window","addEventListener","requestIdleCallback","_requestIdleCallback","loadScript","loadLazyScript","document","readyState","addBeforeInteractiveToCache","scripts","querySelectorAll","forEach","script","cacheKey","id","getAttribute","LoadCache","add","Object","defineProperty","value","initScriptLoader","scriptLoaderItems","default","_extends","_interop_require_wildcard","_object_without_properties_loose","_react","_headManagerContext","_headManager","ScriptCache","Map","Set","ignoreProps","src","onLoad","onReady","dangerouslySetInnerHTML","children","onError","has","get","then","el","createElement","loadPromise","catch","Promise","resolve","reject","e","call","set","innerHTML","__html","textContent","Array","isArray","join","k","entries","undefined","includes","attr","DOMAttributeNames","toLowerCase","setAttribute","body","appendChild","Script","restProps","updateScripts","getIsSsr","useContext","HeadManagerContext","useEffect","concat","__esModule","assign"]
}
