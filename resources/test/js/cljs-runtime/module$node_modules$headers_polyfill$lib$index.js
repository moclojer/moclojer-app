shadow$provide.module$node_modules$headers_polyfill$lib$index=function(global,require,module,exports){function normalizeHeaderName(name){"string"!==typeof name&&(name=String(name));if(HEADERS_INVALID_CHARACTERS.test(name)||""===name.trim())throw new TypeError("Invalid character in header field name");return name.toLowerCase()}function headersToList(headers){const headersList=[];headers.forEach((value,name)=>{value=value.includes(",")?value.split(",").map(value2=>value2.trim()):value;headersList.push([name,
value])});return headersList}function headersToString(headers){return headersToList(headers).map(([name,value])=>{value=[].concat(value);return`${name}: ${value.join(", ")}`}).join("\r\n")}function headersToObject(headers){const headersObject={};headers.forEach((value,name)=>{const isMultiValue=!singleValueHeaders.includes(name.toLowerCase())&&value.includes(",");headersObject[name]=isMultiValue?value.split(",").map(s=>s.trim()):value});return headersObject}function stringToHeaders(str){return str.trim().split(/[\r\n]+/).reduce((headers,
line)=>{if(""===line.trim())return headers;var parts=line.split(": ");line=parts.shift();parts=parts.join(": ");headers.append(line,parts);return headers},new HeadersPolyfill)}function listToHeaders(list){const headers=new HeadersPolyfill;list.forEach(([name,value])=>{[].concat(value).forEach(value2=>{headers.append(name,value2)})});return headers}function reduceHeadersObject(headers,reducer,initialState){return Object.keys(headers).reduce((nextHeaders,name)=>reducer(nextHeaders,name,headers[name]),
initialState)}function objectToHeaders(headersObject){return reduceHeadersObject(headersObject,(headers,name,value)=>{[].concat(value).filter(Boolean).forEach(value2=>{headers.append(name,value2)});return headers},new HeadersPolyfill)}function flattenHeadersList(list){return list.map(([name,values])=>[name,[].concat(values).join(", ")])}function flattenHeadersObject(headersObject){return reduceHeadersObject(headersObject,(headers,name,value)=>{headers[name]=[].concat(value).join(", ");return headers},
{})}var __defProp=Object.defineProperty,__getOwnPropDesc=Object.getOwnPropertyDescriptor,__getOwnPropNames=Object.getOwnPropertyNames,__hasOwnProp=Object.prototype.hasOwnProperty,__copyProps=(to,from,except,desc)=>{if(from&&"object"===typeof from||"function"===typeof from)for(let key of __getOwnPropNames(from))__hasOwnProp.call(to,key)||key===except||__defProp(to,key,{get:()=>from[key],enumerable:!(desc=__getOwnPropDesc(from,key))||desc.enumerable});return to};global={};((target,all)=>{for(var name in all)__defProp(target,
name,{get:all[name],enumerable:!0})})(global,{Headers:()=>HeadersPolyfill,flattenHeadersList:()=>flattenHeadersList,flattenHeadersObject:()=>flattenHeadersObject,headersToList:()=>headersToList,headersToObject:()=>headersToObject,headersToString:()=>headersToString,listToHeaders:()=>listToHeaders,objectToHeaders:()=>objectToHeaders,reduceHeadersObject:()=>reduceHeadersObject,stringToHeaders:()=>stringToHeaders});module.exports=(mod=>__copyProps(__defProp({},"__esModule",{value:!0}),mod))(global);
var HEADERS_INVALID_CHARACTERS=/[^a-z0-9\-#$%&'*+.^_`|~]/i,NORMALIZED_HEADERS=Symbol("normalizedHeaders"),RAW_HEADER_NAMES=Symbol("rawHeaderNames"),HeadersPolyfill=class{constructor(init){this[NORMALIZED_HEADERS]={};this[RAW_HEADER_NAMES]=new Map;["Headers","HeadersPolyfill"].includes(null==init?void 0:init.constructor.name)||init instanceof HeadersPolyfill?init.forEach((value,name)=>{this.append(name,value)},this):Array.isArray(init)?init.forEach(([name,value])=>{this.append(name,Array.isArray(value)?
value.join(", "):value)}):init&&Object.getOwnPropertyNames(init).forEach(name=>{const value=init[name];this.append(name,Array.isArray(value)?value.join(", "):value)})}[Symbol.iterator](){return this.entries()}*keys(){for(const name of Object.keys(this[NORMALIZED_HEADERS]))yield name}*values(){for(const value of Object.values(this[NORMALIZED_HEADERS]))yield value}*entries(){for(const name of Object.keys(this[NORMALIZED_HEADERS]))yield[name,this.get(name)]}get(name){return this[NORMALIZED_HEADERS][normalizeHeaderName(name)]||
null}set(name,value){const normalizedName=normalizeHeaderName(name);var JSCompiler_temp_const=this[NORMALIZED_HEADERS];"string"!==typeof value&&(value=String(value));JSCompiler_temp_const[normalizedName]=value;this[RAW_HEADER_NAMES].set(normalizedName,name)}append(name,value){const normalizedName=normalizeHeaderName(name);value=this.has(normalizedName)?`${this.get(normalizedName)}, ${value}`:value;this.set(name,value)}delete(name){this.has(name)&&(name=normalizeHeaderName(name),delete this[NORMALIZED_HEADERS][name],
this[RAW_HEADER_NAMES].delete(name))}all(){return this[NORMALIZED_HEADERS]}raw(){const rawHeaders={};for(const [name,value]of this.entries())rawHeaders[this[RAW_HEADER_NAMES].get(name)]=value;return rawHeaders}has(name){return this[NORMALIZED_HEADERS].hasOwnProperty(normalizeHeaderName(name))}forEach(callback,thisArg){for(const name in this[NORMALIZED_HEADERS])this[NORMALIZED_HEADERS].hasOwnProperty(name)&&callback.call(thisArg,this[NORMALIZED_HEADERS][name],name,this)}},singleValueHeaders=["user-agent"]}
//# sourceMappingURL=module$node_modules$headers_polyfill$lib$index.js.map
